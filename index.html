<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>GIT VISUAL EXPLAINER • 20 CORE COMMANDS</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  :root {
    --bg: #000814;
    --panel: #001200;
    --text: #00ff9d;
    --accent: #00ff41;
    --accent-dim: #00aa30;
    --head: #ff2a6d;
    --commit: #00cc66;
    --border: #003300;
    --glow: 0 0 8px #00ff41, 0 0 16px #00ff41;
  }

  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Courier New', Consolas, monospace;
    line-height: 1.45;
    padding: 20px 12px;
    min-height: 100vh;
  }

  header {
    text-align: center;
    padding: 1.6rem 0 2.4rem;
  }

  h1 {
    font-size: 2.4rem;
    letter-spacing: 3px;
    text-shadow: var(--glow);
    margin-bottom: 0.4rem;
  }

  nav {
    display: flex;
    flex-wrap: wrap;
    gap: 0.6rem;
    justify-content: center;
    margin: 1.4rem 0 2rem;
  }

  nav button {
    background: var(--panel);
    border: 1px solid var(--border);
    color: var(--accent);
    padding: 0.6rem 1.1rem;
    font-family: inherit;
    cursor: pointer;
    transition: 0.18s;
  }

  nav button:hover,
  nav button.active {
    background: var(--accent-dim);
    color: #000;
    box-shadow: var(--glow);
  }

  .page {
    display: none;
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 1.6rem;
    max-width: 1100px;
    margin: 0 auto 3rem;
  }

  .page.active { display: block; }

  h2 {
    color: var(--accent);
    margin: 1.4rem 0 0.8rem;
    border-bottom: 1px dashed var(--border);
    padding-bottom: 0.5rem;
  }

  pre, code {
    background: #000400;
    border: 1px solid #002200;
    padding: 0.9rem 1.2rem;
    border-radius: 4px;
    overflow-x: auto;
    font-size: 0.94rem;
  }

  svg {
    width: 100%;
    height: 340px;
    background: #000600;
    border: 1px solid var(--border);
    border-radius: 5px;
    margin: 1.2rem 0;
  }

  .status {
    margin-top: 1rem;
    padding: 0.9rem;
    background: #000a00;
    border: 1px dashed var(--border);
    min-height: 3em;
    white-space: pre-wrap;
    font-size: 0.96rem;
  }

  .controls {
    margin: 1.2rem 0;
    display: flex;
    gap: 0.8rem;
    flex-wrap: wrap;
  }

  .btn {
    background: #001a00;
    border: 1px solid var(--accent-dim);
    color: var(--accent);
    padding: 0.7rem 1.3rem;
    cursor: pointer;
  }

  .btn:hover { background: var(--accent-dim); color: #000; }

  .commit { fill: var(--commit); stroke: var(--accent-dim); stroke-width: 2; }
  .branch  { fill: var(--accent); font-weight: bold; }
  .head    { fill: var(--head); font-weight: bold; }
  line     { stroke: var(--accent-dim); stroke-width: 3; stroke-linecap: round; }
  .arrow   { fill: var(--head); }

  .scanlines::after {
    content: "";
    position: fixed;
    inset: 0;
    background: repeating-linear-gradient(
      to bottom,
      transparent 0,
      rgba(0,255,65,0.03) 1px,
      transparent 2px
    );
    pointer-events: none;
    z-index: 9999;
  }
</style>
</head>
<body class="scanlines">

<header>
  <h1>GIT COMMAND VISUALIZER</h1>
  <p style="opacity:0.8; font-size:1.05rem;">20 most used commands • animated graphs • step-by-step breakdown</p>
</header>

<nav id="nav">
  <!-- buttons will be generated by JS -->
</nav>

<!-- ──────────────────────────────────────────────── -->

<div id="p1" class="page">
  <h2>1–5 • Setup & Basic Workflow</h2>

  <h3>1. git init</h3>
  <p>Creates an empty Git repository in the current directory.</p>
  <pre><code>git init</code></pre>

  <h3>2. git clone &lt;url&gt;</h3>
  <p>Creates a local copy of a remote repository.</p>
  <pre><code>git clone https://github.com/user/repo.git</code></pre>

  <h3>3. git status</h3>
  <p>Shows working tree status (staged, unstaged, untracked files).</p>
  <pre><code>git status</code></pre>

  <h3>4. git add &lt;file&gt; / git add .</h3>
  <p>Adds file contents to the index (staging area).</p>
  <pre><code>git add README.md
git add .          # everything</code></pre>

  <h3>5. git commit -m "message"</h3>
  <p>Records changes to the repository.</p>
  <pre><code>git commit -m "Initial project structure"</code></pre>

  <svg id="svg-basic"></svg>
  <div class="controls">
    <button class="btn" onclick="animateBasic()">Animate basic commit flow</button>
  </div>
  <div id="status-basic" class="status">Click button to see animation</div>
</div>

<!-- ──────────────────────────────────────────────── -->

<div id="p2" class="page">
  <h2>6–10 • Branching & Switching</h2>

  <h3>6. git branch</h3>
  <p>Lists existing branches or creates a new one (with name).</p>
  <pre><code>git branch               # list
git branch feature/login</code></pre>

  <h3>7. git checkout &lt;branch&gt; / git switch &lt;branch&gt;</h3>
  <p>Switches to another branch.</p>
  <pre><code>git checkout develop
git switch main</code></pre>

  <h3>8. git checkout -b &lt;name&gt;</h3>
  <p>Creates and switches to a new branch in one step.</p>
  <pre><code>git checkout -b refactor/api</code></pre>

  <h3>9. git branch -d &lt;name&gt;</h3>
  <p>Deletes a branch (only if fully merged).</p>

  <h3>10. git merge &lt;branch&gt;</h3>
  <p>Merges changes from another branch into current one.</p>
  <pre><code>git merge feature/login</code></pre>

  <svg id="svg-branch" viewBox="0 0 900 380"></svg>
  <div class="controls">
    <button class="btn" onclick="runBranchDemo()">Run branch + merge demo</button>
    <button class="btn" onclick="resetBranch()">Reset</button>
  </div>
  <div id="status-branch" class="status">Press "Run branch + merge demo"</div>
</div>

<!-- ──────────────────────────────────────────────── -->

<div id="p3" class="page">
  <h2>11–15 • History, Diff & Undo</h2>

  <h3>11. git log</h3>
  <p>Shows commit history.</p>
  <pre><code>git log --oneline --graph --decorate</code></pre>

  <h3>12. git diff</h3>
  <p>Shows changes between commits / working tree / index.</p>
  <pre><code>git diff
git diff HEAD~1</code></pre>

  <h3>13. git reset &lt;commit&gt;</h3>
  <p>Moves current branch to another commit (many modes: --soft, --mixed, --hard).</p>
  <pre><code>git reset --hard HEAD~2     # dangerous!</code></pre>

  <h3>14. git revert &lt;commit&gt;</h3>
  <p>Creates a new commit that undoes changes from a previous commit.</p>

  <h3>15. git reflog</h3>
  <p>Shows reference log — useful for recovering lost commits.</p>
  <pre><code>git reflog</code></pre>
</div>

<!-- ──────────────────────────────────────────────── -->

<div id="p4" class="page">
  <h2>16–20 • Remote & Collaboration</h2>

  <h3>16. git remote -v / git remote add</h3>
  <p>Manages remote repositories.</p>
  <pre><code>git remote add origin https://github.com/user/repo.git
git remote -v</code></pre>

  <h3>17. git fetch</h3>
  <p>Downloads objects and refs from remote without merging.</p>

  <h3>18. git pull</h3>
  <p>Fetch + merge (or rebase) from remote.</p>
  <pre><code>git pull origin main</code></pre>

  <h3>19. git push</h3>
  <p>Updates remote repository with local commits.</p>
  <pre><code>git push origin main
git push -u origin feature/new-ui</code></pre>

  <h3>20. git stash / git stash pop</h3>
  <p>Temporarily saves changes and cleans working directory.</p>
  <pre><code>git stash push -m "WIP login screen"
git stash pop</code></pre>
</div>

<script>
// Navigation
const pages = document.querySelectorAll('.page');
const nav = document.getElementById('nav');

['Setup & Basics','Branching','History & Undo','Remote & Collaboration'].forEach((title,i) => {
  const btn = document.createElement('button');
  btn.textContent = `${i+1} • ${title}`;
  btn.onclick = () => {
    pages.forEach(p => p.classList.remove('active'));
    document.getElementById(`p${i+1}`).classList.add('active');
    nav.querySelectorAll('button').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
  };
  nav.appendChild(btn);
});
// Show first page by default
pages[0].classList.add('active');
nav.children[0].classList.add('active');

// ─── Basic commit flow animation ────────────────────────────────
function animateBasic() {
  const svg = document.getElementById('svg-basic');
  svg.innerHTML = '';
  const status = document.getElementById('status-basic');

  status.textContent = 'git init → git add . → git commit';

  const coords = [
    {x:180, y:180, id:'C1', label:'Initial commit'},
    {x:380, y:140, id:'C2', label:'Add login page'},
    {x:580, y:220, id:'C3', label:'Fix navbar'}
  ];

  coords.forEach((c,i) => {
    setTimeout(() => {
      const g = document.createElementNS("http://www.w3.org/2000/svg","g");

      const circle = document.createElementNS("http://www.w3.org/2000/svg","circle");
      circle.setAttribute("cx",c.x); circle.setAttribute("cy",c.y); circle.setAttribute("r",24);
      circle.classList.add('commit');
      g.appendChild(circle);

      const txt = document.createElementNS("http://www.w3.org/2000/svg","text");
      txt.setAttribute("x",c.x); txt.setAttribute("y",c.y+5);
      txt.setAttribute("text-anchor","middle");
      txt.textContent = c.id;
      g.appendChild(txt);

      if (i > 0) {
        const prev = coords[i-1];
        const line = document.createElementNS("http://www.w3.org/2000/svg","line");
        line.setAttribute("x1",prev.x); line.setAttribute("y1",prev.y);
        line.setAttribute("x2",c.x);   line.setAttribute("y2",c.y);
        g.appendChild(line);
        const len = Math.hypot(c.x-prev.x, c.y-prev.y);
        line.style.strokeDasharray = len;
        line.style.strokeDashoffset = len;
        line.animate([{strokeDashoffset:len}, {strokeDashoffset:0}], {duration:900, easing:'ease-out', fill:'forwards'});
      }

      svg.appendChild(g);
      g.style.opacity = 0;
      g.animate([{opacity:0, transform:'scale(0.3)'}, {opacity:1, transform:'scale(1)'}], {duration:700, delay:i*600, easing:'back-out', fill:'forwards'});
    }, i*1200);
  });

  setTimeout(() => {
    status.textContent = 'Three commits created on main branch';
  }, coords.length * 1200 + 800);
}

// ─── Branch + merge demo ─────────────────────────────────────────
let branchAnimRunning = false;

function runBranchDemo() {
  if (branchAnimRunning) return;
  branchAnimRunning = true;

  const svg = document.getElementById('svg-branch');
  const status = document.getElementById('status-branch');
  svg.innerHTML = '';

  status.textContent = 'Starting from main branch with one commit...';

  const c1 = makeCommit(svg, 180, 180, 'C1');
  appear(c1, 400);

  const mainLabel = makeText(svg, 300, 140, 'main', 'branch');
  const headLabel = makeText(svg, 300, 220, 'HEAD →', 'head');
  appear(mainLabel, 1200);
  appear(headLabel, 1400);

  // git branch feature
  setTimeout(() => {
    status.textContent = 'git branch feature';
    const featLabel = makeText(svg, 620, 100, 'feature', 'branch');
    appear(featLabel, 300);
  }, 2400);

  // git checkout feature
  setTimeout(() => {
    status.textContent = 'git checkout feature';
    headLabel.setAttribute('x', 700);
    headLabel.setAttribute('y', 140);
    appear(headLabel, 400); // fake move
  }, 3600);

  // commit on feature
  setTimeout(() => {
    status.textContent = 'git commit -m "Add login form"';
    const c2 = makeCommit(svg, 520, 260, 'C2');
    const line = makeLine(svg, 180,180, 520,260);
    drawLine(line, 900);
    appear(c2, 1100);
  }, 4800);

  // back to main
  setTimeout(() => {
    status.textContent = 'git checkout main';
    headLabel.setAttribute('x', 300);
    headLabel.setAttribute('y', 220);
    appear(headLabel, 400);
  }, 6800);

  // commit on main
  setTimeout(() => {
    status.textContent = 'git commit -m "Update readme"';
    const c3 = makeCommit(svg, 280, 300, 'C3');
    const line2 = makeLine(svg, 180,180, 280,300);
    drawLine(line2, 900);
    appear(c3, 1100);
  }, 8000);

  // merge
  setTimeout(() => {
    status.textContent = 'git merge feature';
    const mergeX = 420, mergeY = 240;
    const lm1 = makeLine(svg, 520,260, mergeX,mergeY);
    const lm2 = makeLine(svg, 280,300, mergeX,mergeY);
    drawLine(lm1, 800);
    drawLine(lm2, 1100);
    const cm = makeCommit(svg, mergeX, mergeY, 'M');
    appear(cm, 1500);
    status.textContent = 'Merge commit created • feature integrated into main';
  }, 10000);

  setTimeout(() => { branchAnimRunning = false; }, 13000);
}

function resetBranch() {
  branchAnimRunning = false;
  document.getElementById('svg-branch').innerHTML = '';
  document.getElementById('status-branch').textContent = 'Press "Run branch + merge demo"';
}

// Helpers
function makeCommit(svg, x, y, label) {
  const g = document.createElementNS("http://www.w3.org/2000/svg","g");
  const c = document.createElementNS("http://www.w3.org/2000/svg","circle");
  c.setAttribute("cx",x); c.setAttribute("cy",y); c.setAttribute("r",26);
  c.classList.add('commit');
  g.appendChild(c);

  const t = document.createElementNS("http://www.w3.org/2000/svg","text");
  t.setAttribute("x",x); t.setAttribute("y",y+6);
  t.setAttribute("text-anchor","middle");
  t.textContent = label;
  g.appendChild(t);

  svg.appendChild(g);
  return g;
}

function makeText(svg, x, y, txt, cls) {
  const t = document.createElementNS("http://www.w3.org/2000/svg","text");
  t.setAttribute("x",x);
  t.setAttribute("y",y);
  t.setAttribute("text-anchor","middle");
  t.classList.add(cls);
  t.textContent = txt;
  svg.appendChild(t);
  return t;
}

function makeLine(svg, x1,y1,x2,y2) {
  const l = document.createElementNS("http://www.w3.org/2000/svg","line");
  l.setAttribute("x1",x1); l.setAttribute("y1",y1);
  l.setAttribute("x2",x2); l.setAttribute("y2",y2);
  svg.appendChild(l);
  return l;
}

function appear(el, delay=0) {
  el.style.opacity = 0;
  el.style.transform = 'scale(0.4)';
  setTimeout(() => {
    el.animate(
      [{opacity:0, transform:'scale(0.4)'}, {opacity:1, transform:'scale(1)'}],
      {duration:700, easing:'cubic-bezier(0.34,1.56,0.64,1)', fill:'forwards'}
    );
  }, delay);
}

function drawLine(line, duration=900) {
  const len = Math.hypot(
    line.getAttribute("x2") - line.getAttribute("x1"),
    line.getAttribute("y2") - line.getAttribute("y1")
  );
  line.style.strokeDasharray = len;
  line.style.strokeDashoffset = len;
  line.animate(
    [{strokeDashoffset: len}, {strokeDashoffset: 0}],
    {duration, easing:'ease-out', fill:'forwards'}
  );
}

</script>
</body>
</html>
